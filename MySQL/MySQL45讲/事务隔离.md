## 事务

简单来说，事务就是保证一组数据库操作，要么全部成功，要么全部失败，在MySQL中，事务支持是在引擎层实现的。

MySQL虽然支持多引擎，但并不是所有的引擎都支持事务，比如MySQL原生的MyISAM引擎就不支持事务。

但是InnoDB支持事务。

### 事务的隔离性与隔离级别

事务的特性是指ACID(Atomicity、Consistency、Isolation、Durability)：

+ 原子性
+ 一致性
+ 隔离性
+ 持久性

当数据库上具有多个事务并且同时执行的时候，就会出现脏读，不可重复读，幻读等问题。SQL标准的事务隔离级别包括：

+ 读未提交(read uncommitted)：一个事务还没提交时，它做的变更就能被别的事务看到。
+ 读提交(read committed)：一个事务提交之后，它做的变更才会被其他事务看到。
+ 可重复读(repeatable read)：一个事务执行过程中看到的数据，总是跟这个事务在启动时看到的数据是一致的。当然在可重复读隔离级别下，未提交变更对其他事务也是不可见的。
+ 串行化(serializable)：是对于同一行记录，“写”会加“写锁”，“读”会加“读锁”。当出现读写锁冲突的时候，后访问的事务必须等前一个事务执行完成，才能继续执行。

### 事务的实现

### 长事务

### 短事务

## MVCC 多版本并发控制

### MVCC实现

### 快照

